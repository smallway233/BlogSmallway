import{_ as s,c as o,b as a,a as n,d as t,e as l,w as c,r as p,o as r}from"./app-C-zDcmih.js";const m={};function g(d,e){const i=p("VPLink");return r(),o("div",null,[e[2]||(e[2]=a("p",null,"前言",-1)),e[3]||(e[3]=a("p",null,"使用nginx反向代理beatsaver网站，使得在国内能有良好的访问",-1)),e[4]||(e[4]=a("p",null,"首先。要使用反向代理，就得知道什么是反向代理，以下来自百度百科",-1)),a("p",null,[e[1]||(e[1]=t("反向代理服务器位于用户与目标服务器之间，但是对于用户而言，反向代理服务器就相当于目标服务器，即用户直接访问反向代理服务器就可以获得目标服务器的资源。同时，用户不需要知道目标服务器的地址，也无须在用户端作任何设定。反向代理服务器通常可用来作为Web加速，即使用反向代理作为Web服务器的前置机来降低网络和服务器的负载，提高访问效率。",-1)),l(i,{href:"%5B%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86_%E7%99%BE%E5%BA%A6%E7%99%BE%E7%A7%91%20(baidu.com)%5D(https://baike.baidu.com/item/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/7793488?fr=ge_ala)"},{default:c(()=>[...e[0]||(e[0]=[t("[1]",-1)])]),_:1})]),e[5]||(e[5]=n('<p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/f3a97233bcd61dc9c0aa51a279263560.jpeg" alt="f3a97233bcd61dc9c0aa51a279263560"></p><p>反向代理的主要功能是作为客户端与服务器之间的中介，将客户端的请求转发给后端服务器并将响应返回给客户端。它可以提供以下几个方面的功能：</p><ol><li>负载均衡：反向代理可以平衡多个后端服务器之间的负载，将客户端请求分配到不同的后端服务器，从而提高系统的整体性能和可靠性。</li><li>安全保护：反向代理可以隐藏后端服务器的真实IP地址，提高服务器的安全性，同时可以通过各种协议（如SSL/TLS）来保障数据传输的安全性。</li><li>缓存加速：反向代理可以缓存后端服务器的响应内容，当客户端再次请求相同的内容时，直接返回缓存的响应，从而提高响应速度和系统的整体性能。</li><li>降低复杂度：反向代理可以在客户端与后端服务器之间进行协议转换，从而降低系统的复杂度，同时可以提供一些额外的功能，如请求日志、流量统计等。</li></ol><p>本篇教程即使用反向代理的第三点功能。</p><p>在此我们首先对需要反代的API进行分析，<a href="https://beatsaver.com/api/search/text/0" target="_blank" rel="noopener noreferrer">https://beatsaver.com/api/search/text/0</a> [beatsaver.com]为host [/api/search/test/0]为其路径，且0为动态路径（翻页嘛）。</p><p>步骤如下</p><ol><li>添加站点</li></ol><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125134806135.png" alt="image-20240125134806135"></p><ol start="2"><li>设置网站的域名，PHP版本选择纯静态</li></ol><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125135625045.png" alt="image-20240125135625045"></p><ol start="3"><li>点击设置</li></ol><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125135717909.png" alt="image-20240125135717909"></p><ol start="4"><li>选择反向代理，添加反向代理</li></ol><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125135808531.png" alt="image-20240125135808531"></p><ol start="5"><li>代理名称随便起，目标URL填写到 <code>https://beatsaver.com/api/search/text/</code></li></ol><div class="hint-container tip"><p class="hint-container-title">提示</p><p>为什么没有0？往下看</p></div><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125140238111.png" alt="image-20240125140238111"></p><ol start="6"><li>点击提交，点击配置文件</li></ol><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125140409782.png" alt="image-20240125140409782"></p><p><img src="https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125140516843.png" alt="image-20240125140516843"></p><p>具体解释如下：</p><ul><li><code>location ^~ /</code>：该配置指定了匹配的路径前缀为 <code>/</code>，即所有请求都会匹配到这个 location。</li><li><code>rewrite ^/(.*)$ /api/search/text/$1 break;</code>：这条指令使用正则表达式将客户端请求的路径进行重写，将 <code>/</code> 后面的内容捕获为 <code>$1</code>，然后拼接到 <code>/api/search/text/</code> 后面。例如，如果客户端请求的路径是 <code>/songs/123</code>，经过重写后，路径变为 <code>/api/search/text/songs/123</code>。</li><li><code>proxy_pass https://beatsaver.com;</code>：这条指令指定了转发请求的目标地址为 <code>https://beatsaver.com</code>，即所有匹配到该 location 的请求都会被转发到这个地址。</li><li><code>proxy_set_header Host beatsaver.com;</code>：这条指令设置了转发请求时的 Host 头为 <code>beatsaver.com</code>，确保后端服务器可以正确处理该请求。</li></ul><p>完成之后点击保存，访问刚才设置的域名即可成功反向代理。</p><h2 id="评论" tabindex="-1"><a class="header-anchor" href="#评论"><span>评论</span></a></h2><p><strong>1</strong> <em>(2024-03-22 15:19:17)</em>:</p><blockquote><p>好</p></blockquote>',26))])}const y=s(m,[["render",g]]),h=JSON.parse('{"path":"/blog/nginx-reverse-proxy-beatsaver/","title":"Nginx动态反向代理BeatSaver网站","lang":"zh-CN","frontmatter":{"title":"Nginx动态反向代理BeatSaver网站","createTime":"2024-01-25T14:14:46.000Z","permalink":"/blog/nginx-reverse-proxy-beatsaver/","description":"前言 使用nginx反向代理beatsaver网站，使得在国内能有良好的访问 首先。要使用反向代理，就得知道什么是反向代理，以下来自百度百科 反向代理服务器位于用户与目标服务器之间，但是对于用户而言，反向代理服务器就相当于目标服务器，即用户直接访问反向代理服务器就可以获得目标服务器的资源。同时，用户不需要知道目标服务器的地址，也无须在用户端作任何设定。...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Nginx动态反向代理BeatSaver网站\\",\\"image\\":[\\"https://smallway.oss-cn-beijing.aliyuncs.com/f3a97233bcd61dc9c0aa51a279263560.jpeg\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125134806135.png\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125135625045.png\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125135717909.png\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125135808531.png\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125140238111.png\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125140409782.png\\",\\"https://smallway.oss-cn-beijing.aliyuncs.com/image-20240125140516843.png\\"],\\"dateModified\\":\\"2026-01-06T07:19:50.000Z\\",\\"author\\":[]}"],["meta",{"property":"og:url","content":"https://blog.smallway.top/blog/nginx-reverse-proxy-beatsaver/"}],["meta",{"property":"og:site_name","content":"碎白的项目垃圾桶"}],["meta",{"property":"og:title","content":"Nginx动态反向代理BeatSaver网站"}],["meta",{"property":"og:description","content":"前言 使用nginx反向代理beatsaver网站，使得在国内能有良好的访问 首先。要使用反向代理，就得知道什么是反向代理，以下来自百度百科 反向代理服务器位于用户与目标服务器之间，但是对于用户而言，反向代理服务器就相当于目标服务器，即用户直接访问反向代理服务器就可以获得目标服务器的资源。同时，用户不需要知道目标服务器的地址，也无须在用户端作任何设定。..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://smallway.oss-cn-beijing.aliyuncs.com/f3a97233bcd61dc9c0aa51a279263560.jpeg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2026-01-06T07:19:50.000Z"}],["meta",{"property":"article:modified_time","content":"2026-01-06T07:19:50.000Z"}]]},"readingTime":{"minutes":3.3,"words":989},"git":{"createdTime":1767175850000,"updatedTime":1767683990000,"contributors":[{"name":"小白nbfan","username":"","email":"","commits":2,"avatar":"https://gravatar.com/avatar/e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855?d=retro"}]},"autoDesc":true,"filePathRelative":"blog/nginx动态反向代理beatsaver网站.md","headers":[],"categoryList":[]}');export{y as comp,h as data};
